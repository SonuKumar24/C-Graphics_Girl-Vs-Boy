#include<stdio.h>
#include<conio.h>
#include<graphics.h>
#include<stdlib.h>
int t=1;
void main()
{
 int gd=DETECT,gm;
 void car();
 void girl();
 void plane();
 initgraph(&gd,&gm,"C:\\TURBOC3\\BGI");
 car();
 girl();
 car();
 plane();
 closegraph();
 }

 void car()
 {
 int i=0,x;
 int pts[]={313,140,315,140,335,155,337,155,313,140};
 int ptss[]={388,140,386,140,406,155,408,155,388,140};
 x=getmaxx();

 while(x>i-500)
 {
 cleardevice();
 circle(300,120,20);
 line(313,138,313,185);
 line(288,138,288,185);
 line(313,185,288,185);
 bar(308,185,310,215);
 bar(292,185,290,215);
 bar(288,140,286,165);

 if(t==1&&i>=200&&i<=780)
 {
  drawpoly(4,pts);
 }
 else
 {
  bar(313,140,315,165);
 }

 line(0,250,x,250);
 line(0,450,x,450);
 line(i-500,300,i-400,300);
 line(i-350,300,i-250,300);
 line(i-200,300,i-50,300);
 line(i-50,300,i-50,250);
 line(i-50,250,i-150,200);
 line(i-150,200,i-230,80);
 line(i-230,80,i-420,80);
 line(i-420,80,i-440,200);
 line(i-440,200,i-500,230);
 line(i-500,230,i-500,300);
 circle(i-375,300,18);
 circle(i-225,300,18);
 arc(i-375,300,0,180,25);
 arc(i-225,300,0,180,25);
 rectangle(i-400,100,i-330,170);
 rectangle(i-300,100,i-230,170);
 circle(i-275,140,15);
 line(i-280,153,i-280,170);
 line(i-270,153,i-270,170);
 arc(i-230,170,90,180,20);
 bar(i-275,160,i-248,163);
 i++;

 if(t==2&&i<631)
 {
 circle(400,120,20);
 line(413,140,413,185);
 line(388,140,388,185);
 line(413,185,388,185);
 bar(409,185,411,215);
 bar(392,185,390,215);
 bar(420,120,422,140);
 bar(380,120,378,140);
 bar(415,138,413,165);

 if(t==2&&i>=200)
 {
  drawpoly(4,ptss);
 }
 else
 {
  bar(388,140,386,165);
 }

 if(i==630)
  delay(3000);
 }
  delay(5);
 }
 }

 void girl()
 {
 int j=200,x;
 t=2;
 x=getmaxx();
 while(j<400)
 {
 cleardevice();
 line(0,250,x,250);
 line(0,450,x,450);
 circle(300,120,20);
 line(313,138,313,185);
 line(288,138,288,185);
 line(313,185,288,185);
 bar(308,185,310,215);
 bar(292,185,290,215);
 bar(288,140,286,165);
 bar(313,140,315,165);

 if(j==200)
  delay(800);

 circle(800-j,120,20);
 line(813-j,138,813-j,185);
 line(788-j,138,788-j,185);
 line(813-j,185,788-j,185);
 bar(788-j,140,786-j,165);
 bar(813-j,140,815-j,165);
 bar(820-j,120,822-j,140);
 bar(780-j,120,778-j,140);

 if(j%2!=0)
 {
  line(810-j,185,818-j,215);
  line(791-j,185,788-j,215);
 }
 else
 {
  line(810-j,185,802-j,215);
  line(791-j,185,780-j,215);
 }

  delay(80);
  j++;
 }
 }

 void plane()
 {
 int x,i=300;
 x=getmaxx();
 while(i<590)
 {
 cleardevice();

 line(0,250,x,250);
 line(0,450,x,450);

 circle(300,120,20);
 line(313,138,313,185);
 line(288,138,288,185);
 line(313,185,288,185);
 bar(308,185,310,215);
 bar(292,185,290,215);
 bar(288,140,286,165);
 line(313,140,325,160);
 line(325,160,324,125);
 bar(320,117,324,132);
 if(i==300)
 delay(3000);

 line(250,i-500,450,i-500);
 line(250,i-500,250,i-350);
 line(250,i-350,550,i-350);
 line(550,i-350,550,i-400);
 arc(450,i-400,0,90,100);
 bar(300,i-350,305,i-330);
 bar(495,i-350,500,i-330);
 bar(280,i-330,520,i-320);
 bar(395,i-500,400,i-510);

 line(250,i-480,150,i-510);
 line(250,i-450,140,i-480);
 line(150,i-510,140,i-480);
 line(165,i-495,225,i-505);
 line(165,i-495,105,i-505);
 line(165,i-495,165,i-435);

 line(398,i-505,448,i-508);
 line(398,i-505,348,i-518);
 line(398,i-505,430,i-525);
 i++;
 if(i==590)
  delay(5000);
 delay(5);
 }

 i=590;
 while(i>100)
 {
 cleardevice();

 line(0,250,x,250);
 line(0,450,x,450);

 line(250,i-500,450,i-500);
 line(250,i-500,250,i-350);
 line(250,i-350,550,i-350);
 line(550,i-350,550,i-400);
 arc(450,i-400,0,90,100);
 bar(300,i-350,305,i-330);
 bar(495,i-350,500,i-330);
 bar(280,i-330,520,i-320);
 bar(395,i-500,400,i-510);

 line(250,i-480,150,i-510);
 line(250,i-450,140,i-480);
 line(150,i-510,140,i-480);
 line(165,i-495,225,i-505);
 line(165,i-495,105,i-505);
 line(165,i-495,165,i-435);

 line(398,i-505,448,i-508);
 line(398,i-505,348,i-518);
 line(398,i-505,430,i-525);
 i--;
 if(i==150)
 delay(300);
 delay(5);
 }
 }
